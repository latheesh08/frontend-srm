{"ast":null,"code":"var _jsxFileName = \"/Users/star/Desktop/frontend-srm/src/app/faq/student/StudentFaq.js\";\nimport React, { useState, useEffect } from 'react';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles, Grid, Typography, CircularProgress } from '@material-ui/core';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport FaqCard from './FaqCard';\nimport FaqService from '../FaqService';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nconst useStyles = makeStyles(theme => ({\n  container: {\n    width: '100%',\n    height: '100%',\n    margin: 0,\n    padding: 0,\n    overflowY: 'auto',\n    '&::-webkit-scrollbar': {\n      display: 'none'\n    }\n  },\n  createHeader: {\n    marginTop: '20px'\n  },\n  createTitle: {\n    fontSize: '20px'\n  },\n  loading: {\n    textAlign: 'center',\n    justifyContent: 'center',\n    margin: 'auto'\n  },\n  createButtonIcon: {\n    // margin: 'auto',\n    padding: '0 0 0 10px',\n    transform: 'translateY(5px)',\n    cursor: 'pointer'\n  },\n  cardGridStyle: {\n    marginTop: '20px'\n  }\n}));\n\nconst StudentFaq = props => {\n  const classes = useStyles();\n  const [hasMore, setHasMore] = useState(true);\n  const [allFaqs, setFaq] = useState([]);\n  const [nextUrl, setNextUrl] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  useEffect(() => {\n    let isLoading = true;\n\n    const fetchFaq = async () => {\n      try {\n        const token = localStorage.getItem('srmToken');\n        const response = await FaqService.fetchAllFaqs(token);\n\n        if (isLoading) {\n          setFaq(response.data.data.data);\n          let next_page_url = response.data.data.next_page_url;\n          let last_page_url = response.data.data.last_page_url;\n          console.log(response);\n\n          if (next_page_url === null) {\n            setHasMore(false);\n          } else {\n            setNextUrl(next_page_url);\n            setCurrentPage(currentPage + 1);\n            setHasMore(true);\n          }\n        }\n      } catch (error) {\n        console.log('Error: ', error);\n      }\n    };\n\n    fetchFaq();\n    return () => {\n      isLoading = false;\n    };\n  }, []);\n\n  const fetchMoreFaqs = async () => {\n    try {\n      const token = localStorage.getItem('srmToken');\n      const response = await FaqService.fetchMoreFaqs(token, nextUrl);\n      setFaq([...allFaqs, ...response.data.data.data]);\n      let next_page_url = response.data.data.next_page_url;\n\n      if (next_page_url === null) {\n        setHasMore(false);\n      } else {\n        setNextUrl(next_page_url);\n        setCurrentPage(currentPage + 1);\n        setHasMore(true);\n      }\n    } catch (error) {\n      console.log('Error: ', error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.container,\n    id: \"scrollable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InfiniteScroll, {\n    dataLength: allFaqs.length,\n    next: fetchMoreFaqs,\n    hasMore: hasMore,\n    loader: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    })),\n    scrollableTarget: \"scrollable\",\n    scrollThreshold: 0.5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, allFaqs.map(faq => /*#__PURE__*/React.createElement(Grid, {\n    key: faq.id,\n    className: classes.cardGridStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FaqCard, {\n    id: faq.id,\n    question: faq.question,\n    answer: faq.answer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default StudentFaq;","map":{"version":3,"sources":["/Users/star/Desktop/frontend-srm/src/app/faq/student/StudentFaq.js"],"names":["React","useState","useEffect","Container","makeStyles","Grid","Typography","CircularProgress","AddCircleIcon","FaqCard","FaqService","InfiniteScroll","useStyles","theme","container","width","height","margin","padding","overflowY","display","createHeader","marginTop","createTitle","fontSize","loading","textAlign","justifyContent","createButtonIcon","transform","cursor","cardGridStyle","StudentFaq","props","classes","hasMore","setHasMore","allFaqs","setFaq","nextUrl","setNextUrl","currentPage","setCurrentPage","isLoading","fetchFaq","token","localStorage","getItem","response","fetchAllFaqs","data","next_page_url","last_page_url","console","log","error","fetchMoreFaqs","length","map","faq","id","question","answer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport Container from '@material-ui/core/Container';\nimport {\n  makeStyles,\n  Grid,\n  Typography,\n  CircularProgress,\n} from '@material-ui/core';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\n\nimport FaqCard from './FaqCard';\nimport FaqService from '../FaqService';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    width: '100%',\n    height: '100%',\n    margin: 0,\n    padding: 0,\n    overflowY: 'auto',\n    '&::-webkit-scrollbar': {\n      display: 'none',\n    },\n  },\n  createHeader: {\n    marginTop: '20px',\n  },\n  createTitle: {\n    fontSize: '20px',\n  },\n  loading: {\n    textAlign: 'center',\n    justifyContent: 'center',\n    margin: 'auto',\n  },\n  createButtonIcon: {\n    // margin: 'auto',\n    padding: '0 0 0 10px',\n    transform: 'translateY(5px)',\n    cursor: 'pointer',\n  },\n  cardGridStyle: {\n    marginTop: '20px',\n  },\n}));\n\nconst StudentFaq = (props) => {\n  const classes = useStyles();\n  const [hasMore, setHasMore] = useState(true);\n  const [allFaqs, setFaq] = useState([]);\n  const [nextUrl, setNextUrl] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  useEffect(() => {\n    let isLoading = true;\n    const fetchFaq = async () => {\n      try {\n        const token = localStorage.getItem('srmToken');\n        const response = await FaqService.fetchAllFaqs(token);\n        if (isLoading) {\n          setFaq(response.data.data.data);\n          let next_page_url = response.data.data.next_page_url;\n          let last_page_url = response.data.data.last_page_url;\n          console.log(response);\n          if (next_page_url === null) {\n            setHasMore(false);\n          } else {\n            setNextUrl(next_page_url);\n            setCurrentPage(currentPage + 1);\n            setHasMore(true);\n          }\n        }\n      } catch (error) {\n        console.log('Error: ', error);\n      }\n    };\n    fetchFaq();\n    return () => {\n      isLoading = false;\n    };\n  }, []);\n\n  const fetchMoreFaqs = async () => {\n    try {\n      const token = localStorage.getItem('srmToken');\n      const response = await FaqService.fetchMoreFaqs(token, nextUrl);\n      setFaq([...allFaqs, ...response.data.data.data]);\n      let next_page_url = response.data.data.next_page_url;\n      if (next_page_url === null) {\n        setHasMore(false);\n      } else {\n        setNextUrl(next_page_url);\n        setCurrentPage(currentPage + 1);\n\n        setHasMore(true);\n      }\n    } catch (error) {\n      console.log('Error: ', error);\n    }\n  };\n  return (\n    <>\n      <div className={classes.container} id='scrollable'>\n        <Container>\n          <InfiniteScroll\n            dataLength={allFaqs.length}\n            next={fetchMoreFaqs}\n            hasMore={hasMore}\n            loader={\n              <>\n                <br />\n                <div className={classes.loading}>\n                  <CircularProgress />\n                </div>\n                <br />\n              </>\n            }\n            scrollableTarget='scrollable'\n            scrollThreshold={0.5}\n          >\n            {allFaqs.map((faq) => (\n              <Grid key={faq.id} className={classes.cardGridStyle}>\n                <FaqCard\n                  id={faq.id}\n                  question={faq.question}\n                  answer={faq.answer}\n                />\n              </Grid>\n            ))}\n          </InfiniteScroll>\n        </Container>\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n      </div>\n    </>\n  );\n};\n\nexport default StudentFaq;\n"]},"metadata":{},"sourceType":"module"}