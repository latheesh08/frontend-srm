{"ast":null,"code":"var _jsxFileName = \"/Users/star/Desktop/frontend-srm/src/app/auth/LoginForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Input from \"@material-ui/core/Input\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Box from \"@material-ui/core/Box\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Link from \"@material-ui/core/Link\";\nimport { connect } from \"react-redux\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport AuthContainer from \"./AuthContainer\";\nimport * as actions from \"./store/actions\";\nimport phoneSvg from \"../../assets/images/Desktop Phone number.svg\";\nimport passwordSvg from \"../../assets/images/Desktop Password.svg\";\nimport BackdropLoader from \"../common/ui/backdropLoader/BackdropLoader\";\n\nfunction Alert(props) {\n  return /*#__PURE__*/React.createElement(MuiAlert, Object.assign({\n    elevation: 6,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 10\n    }\n  }));\n}\n\nconst useStyle = makeStyles(theme => ({\n  formStyle: {\n    margin: \"auto\",\n    width: \"100%\",\n    justifyContent: \"center\",\n    textAlign: \"center\"\n  },\n  boxMargin: {\n    marginTop: \"30px\",\n    \"@media (max-width:400px)\": {\n      marginTop: \"10px\"\n    }\n  },\n  fieldStyle: {\n    width: \"80%\",\n    margin: \"auto\",\n    \"& .MuiInput-underline:before\": {\n      borderBottom: \"2px solid #eaeaea\"\n    },\n    \"& .MuiInput-underline:hover:not(.Mui-disabled):before\": {\n      borderBottom: \"2px solid #7B72AF\",\n      transitionProperty: \"border-bottom-color\",\n      transitionDuration: \"500ms\",\n      transitionTimingFunction: \"cubic-bezier(0.4, 0, 0.2, 1)\"\n    }\n  },\n  inputBorder: {\n    height: \"50px\"\n  },\n  fgtPass: {\n    marginBottom: \"15px\",\n    marginTop: \"30px\",\n    \"& a\": {\n      color: \"#707070\",\n      textDecoration: \"none\"\n    },\n    \"& a:hover\": {\n      textDecoration: \"underline\"\n    },\n    \"@media (max-width:400px)\": {\n      marginTop: \"10px\",\n      marginBottom: 0\n    }\n  },\n  margin: {\n    marginTop: \"30px\",\n    \"@media (max-width:400px)\": {\n      marginTop: \"10px\"\n    },\n    \"& .loginBtn\": {\n      borderRadius: \"6px\" // opacity: '0.5',\n\n    }\n  },\n  error: {\n    color: \"red\"\n  }\n}));\n\nconst LoginForm = props => {\n  const classes = useStyle();\n  const history = useHistory();\n  const [isDisable, setDisable] = useState(true);\n  const [user, setUser] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [successSnackbarOpen, setSuccessSnackbarOpen] = useState(false);\n  const [errorSnackbarOpen, setErrorSnackbarOpen] = useState(false);\n\n  const submitForm = event => {\n    event.preventDefault();\n    /* let email = \"\";\n    let phone_no = \"\";\n    let userId = \"\";\n    const email_re = /^((?!\\.)[\\w-_.]*[^.])(@\\w+)(\\.\\w+(\\.\\w+)?[^.\\W])$/gm;\n    let email_res = email_re.test(user);\n    if (email_res) {\n      email = user;\n    } else {\n      const phone_re = /(?:\\s+|)((0|(?:(\\+|)91))(?:\\s|-)*(?:(?:\\d(?:\\s|-)*\\d{9})|(?:\\d{2}(?:\\s|-)*\\d{8})|(?:\\d{3}(?:\\s|-)*\\d{7}))|\\d{10})(?:\\s+|)/gm;\n      let phone_res = phone_re.test(user);\n      if (phone_res) {\n        phone_no = user.substr(user.length - 10);\n      } else {\n        userId = user;\n      }\n    }\n    console.log(\"email:\", email, \"phone:\", phone_no, \"userId:\", userId); */\n\n    props.onLoginSubmit(user, password);\n  };\n\n  useEffect(() => {\n    let queryString = props.history.location.search;\n    let params = new URLSearchParams(queryString);\n    let fgtpass = params.get(\"fgtpass\");\n\n    if (fgtpass !== null) {\n      if (fgtpass === \"true\") {\n        setSuccessSnackbarOpen(true);\n      }\n\n      if (fgtpass === \"false\") {\n        setErrorSnackbarOpen(true);\n      }\n    }\n  }, []);\n  useEffect(() => {\n    if (user.length > 0 && password.length > 0) {\n      setDisable(false);\n    } else {\n      setDisable(true);\n    }\n  }, [user, password]);\n\n  const validate = event => {\n    let name = event.target.name;\n\n    if (name === \"user\") {\n      setUser(event.target.value);\n    }\n\n    if (name === \"password\") {\n      setPassword(event.target.value);\n    }\n  };\n\n  const handleForgotPassword = event => {\n    event.preventDefault();\n    history.push(\"/changepwdotp\");\n  };\n\n  const handleSnackbarClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setSuccessSnackbarOpen(false);\n    setErrorSnackbarOpen(false);\n  };\n  /*  if (props.redirectUrl) {\n    return <Redirect to={props.redirectUrl} />;\n  } */\n\n\n  let errorDesc = \"\";\n\n  if (props.error) {\n    errorDesc = /*#__PURE__*/React.createElement(Typography, {\n      className: classes.error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 7\n      }\n    }, props.error);\n  }\n\n  return /*#__PURE__*/React.createElement(AuthContainer, {\n    title: \"LOGIN\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.boxMargin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.formStyle,\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.margin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }, errorDesc, /*#__PURE__*/React.createElement(FormControl, {\n    className: classes.fieldStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"user\",\n    name: \"user\",\n    className: classes.inputBorder,\n    type: \"text\",\n    value: user,\n    onChange: validate,\n    placeholder: \"Email, Phone or User ID\",\n    startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n      position: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: phoneSvg,\n      width: \"40px\",\n      alt: \"Phone SVG\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    className: classes.margin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    className: classes.fieldStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"password\",\n    name: \"password\",\n    className: classes.inputBorder,\n    type: \"password\",\n    value: password,\n    onChange: validate,\n    placeholder: \"Enter Password\",\n    startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n      position: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: passwordSvg,\n      width: \"40px\",\n      alt: \"Phone SVG\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    className: classes.margin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"loginBtn\",\n    type: \"submit\",\n    variant: \"contained\",\n    className: `${classes.fieldStyle} ${\"loginBtn\"}`,\n    color: \"primary\",\n    disabled: isDisable,\n    disableElevation: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }, \"SUBMIT\")), /*#__PURE__*/React.createElement(Box, {\n    className: `${classes.Margin} ${classes.fgtPass}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    href: \"#\",\n    onClick: handleForgotPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 15\n    }\n  }, \"Forgot Password?\"))))), /*#__PURE__*/React.createElement(BackdropLoader, {\n    open: props.loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Snackbar, {\n    open: successSnackbarOpen,\n    autoHideDuration: 6000,\n    onClose: handleSnackbarClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    onClose: handleSnackbarClose,\n    severity: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }\n  }, \"Password updated successfully\")), /*#__PURE__*/React.createElement(Snackbar, {\n    open: errorSnackbarOpen,\n    autoHideDuration: 6000,\n    onClose: handleSnackbarClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    onClose: handleSnackbarClose,\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  }, \"Failed to update the password\")));\n};\n\nconst mapStateToProps = state => {\n  return {\n    error: state.auth.error,\n    loading: state.auth.loading,\n    isAuthenticated: state.auth.token !== null,\n    redirectUrl: state.auth.redirectUrl\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onLoginSubmit: (userId, password) => dispatch(actions.authUser(userId, password))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);","map":{"version":3,"sources":["/Users/star/Desktop/frontend-srm/src/app/auth/LoginForm.js"],"names":["React","useState","useEffect","useHistory","Input","InputAdornment","Button","FormControl","Box","makeStyles","Typography","Link","connect","Snackbar","MuiAlert","AuthContainer","actions","BackdropLoader","Alert","props","useStyle","theme","formStyle","margin","width","justifyContent","textAlign","boxMargin","marginTop","fieldStyle","borderBottom","transitionProperty","transitionDuration","transitionTimingFunction","inputBorder","height","fgtPass","marginBottom","color","textDecoration","borderRadius","error","LoginForm","classes","history","isDisable","setDisable","user","setUser","password","setPassword","successSnackbarOpen","setSuccessSnackbarOpen","errorSnackbarOpen","setErrorSnackbarOpen","submitForm","event","preventDefault","onLoginSubmit","queryString","location","search","params","URLSearchParams","fgtpass","get","length","validate","name","target","value","handleForgotPassword","push","handleSnackbarClose","reason","errorDesc","phoneSvg","passwordSvg","Margin","loading","mapStateToProps","state","auth","isAuthenticated","token","redirectUrl","mapDispatchToProps","dispatch","userId","authUser"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Input from \"@material-ui/core/Input\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Box from \"@material-ui/core/Box\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Link from \"@material-ui/core/Link\";\nimport { connect } from \"react-redux\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\n\nimport AuthContainer from \"./AuthContainer\";\nimport * as actions from \"./store/actions\";\n\nimport phoneSvg from \"../../assets/images/Desktop Phone number.svg\";\nimport passwordSvg from \"../../assets/images/Desktop Password.svg\";\nimport BackdropLoader from \"../common/ui/backdropLoader/BackdropLoader\";\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst useStyle = makeStyles((theme) => ({\n  formStyle: {\n    margin: \"auto\",\n    width: \"100%\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n  },\n  boxMargin: {\n    marginTop: \"30px\",\n    \"@media (max-width:400px)\": {\n      marginTop: \"10px\",\n    },\n  },\n  fieldStyle: {\n    width: \"80%\",\n    margin: \"auto\",\n    \"& .MuiInput-underline:before\": {\n      borderBottom: \"2px solid #eaeaea\",\n    },\n    \"& .MuiInput-underline:hover:not(.Mui-disabled):before\": {\n      borderBottom: \"2px solid #7B72AF\",\n      transitionProperty: \"border-bottom-color\",\n      transitionDuration: \"500ms\",\n      transitionTimingFunction: \"cubic-bezier(0.4, 0, 0.2, 1)\",\n    },\n  },\n  inputBorder: {\n    height: \"50px\",\n  },\n\n  fgtPass: {\n    marginBottom: \"15px\",\n    marginTop: \"30px\",\n    \"& a\": {\n      color: \"#707070\",\n      textDecoration: \"none\",\n    },\n    \"& a:hover\": {\n      textDecoration: \"underline\",\n    },\n    \"@media (max-width:400px)\": {\n      marginTop: \"10px\",\n      marginBottom: 0,\n    },\n  },\n  margin: {\n    marginTop: \"30px\",\n    \"@media (max-width:400px)\": {\n      marginTop: \"10px\",\n    },\n\n    \"& .loginBtn\": {\n      borderRadius: \"6px\",\n      // opacity: '0.5',\n    },\n  },\n  error: {\n    color: \"red\",\n  },\n}));\n\nconst LoginForm = (props) => {\n  const classes = useStyle();\n  const history = useHistory();\n  const [isDisable, setDisable] = useState(true);\n  const [user, setUser] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [successSnackbarOpen, setSuccessSnackbarOpen] = useState(false);\n  const [errorSnackbarOpen, setErrorSnackbarOpen] = useState(false);\n\n  const submitForm = (event) => {\n    event.preventDefault();\n    /* let email = \"\";\n    let phone_no = \"\";\n    let userId = \"\";\n    const email_re = /^((?!\\.)[\\w-_.]*[^.])(@\\w+)(\\.\\w+(\\.\\w+)?[^.\\W])$/gm;\n    let email_res = email_re.test(user);\n    if (email_res) {\n      email = user;\n    } else {\n      const phone_re = /(?:\\s+|)((0|(?:(\\+|)91))(?:\\s|-)*(?:(?:\\d(?:\\s|-)*\\d{9})|(?:\\d{2}(?:\\s|-)*\\d{8})|(?:\\d{3}(?:\\s|-)*\\d{7}))|\\d{10})(?:\\s+|)/gm;\n      let phone_res = phone_re.test(user);\n      if (phone_res) {\n        phone_no = user.substr(user.length - 10);\n      } else {\n        userId = user;\n      }\n    }\n    console.log(\"email:\", email, \"phone:\", phone_no, \"userId:\", userId); */\n    props.onLoginSubmit(user, password);\n  };\n\n  useEffect(() => {\n    let queryString = props.history.location.search;\n    let params = new URLSearchParams(queryString);\n    let fgtpass = params.get(\"fgtpass\");\n    if (fgtpass !== null) {\n      if (fgtpass === \"true\") {\n        setSuccessSnackbarOpen(true);\n      }\n      if (fgtpass === \"false\") {\n        setErrorSnackbarOpen(true);\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    if (user.length > 0 && password.length > 0) {\n      setDisable(false);\n    } else {\n      setDisable(true);\n    }\n  }, [user, password]);\n\n  const validate = (event) => {\n    let name = event.target.name;\n    if (name === \"user\") {\n      setUser(event.target.value);\n    }\n    if (name === \"password\") {\n      setPassword(event.target.value);\n    }\n  };\n\n  const handleForgotPassword = (event) => {\n    event.preventDefault();\n    history.push(\"/changepwdotp\");\n  };\n  const handleSnackbarClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setSuccessSnackbarOpen(false);\n    setErrorSnackbarOpen(false);\n  };\n  /*  if (props.redirectUrl) {\n    return <Redirect to={props.redirectUrl} />;\n  } */\n\n  let errorDesc = \"\";\n  if (props.error) {\n    errorDesc = (\n      <Typography className={classes.error}>{props.error}</Typography>\n    );\n  }\n\n  return (\n    <AuthContainer title=\"LOGIN\">\n      <div>\n        <Box className={classes.boxMargin}></Box>\n\n        <form className={classes.formStyle} onSubmit={submitForm}>\n          <Box className={classes.margin}>\n            {errorDesc}\n            <FormControl className={classes.fieldStyle}>\n              <Input\n                id=\"user\"\n                name=\"user\"\n                className={classes.inputBorder}\n                type=\"text\"\n                value={user}\n                onChange={validate}\n                placeholder=\"Email, Phone or User ID\"\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <img src={phoneSvg} width=\"40px\" alt=\"Phone SVG\" />\n                  </InputAdornment>\n                }\n              />\n            </FormControl>\n          </Box>\n          <Box className={classes.margin}>\n            <FormControl className={classes.fieldStyle}>\n              <Input\n                id=\"password\"\n                name=\"password\"\n                className={classes.inputBorder}\n                type=\"password\"\n                value={password}\n                onChange={validate}\n                placeholder=\"Enter Password\"\n                startAdornment={\n                  <InputAdornment position=\"start\">\n                    <img src={passwordSvg} width=\"40px\" alt=\"Phone SVG\" />\n                  </InputAdornment>\n                }\n              />\n            </FormControl>\n          </Box>\n          <Box className={classes.margin}>\n            <Button\n              id=\"loginBtn\"\n              type=\"submit\"\n              variant=\"contained\"\n              className={`${classes.fieldStyle} ${\"loginBtn\"}`}\n              color=\"primary\"\n              disabled={isDisable}\n              disableElevation\n            >\n              SUBMIT\n            </Button>\n          </Box>\n          <Box className={`${classes.Margin} ${classes.fgtPass}`}>\n            <Link href=\"#\" onClick={handleForgotPassword}>\n              <Typography>Forgot Password?</Typography>\n            </Link>\n          </Box>\n        </form>\n      </div>\n      <BackdropLoader open={props.loading} />\n      <Snackbar\n        open={successSnackbarOpen}\n        autoHideDuration={6000}\n        onClose={handleSnackbarClose}\n      >\n        <Alert onClose={handleSnackbarClose} severity=\"success\">\n          Password updated successfully\n        </Alert>\n      </Snackbar>\n      <Snackbar\n        open={errorSnackbarOpen}\n        autoHideDuration={6000}\n        onClose={handleSnackbarClose}\n      >\n        <Alert onClose={handleSnackbarClose} severity=\"error\">\n          Failed to update the password\n        </Alert>\n      </Snackbar>\n    </AuthContainer>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    error: state.auth.error,\n    loading: state.auth.loading,\n    isAuthenticated: state.auth.token !== null,\n    redirectUrl: state.auth.redirectUrl,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onLoginSubmit: (userId, password) =>\n      dispatch(actions.authUser(userId, password)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);\n"]},"metadata":{},"sourceType":"module"}