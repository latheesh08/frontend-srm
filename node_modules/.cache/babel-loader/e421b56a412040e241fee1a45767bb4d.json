{"ast":null,"code":"var _jsxFileName = \"/Users/star/Desktop/frontend-srm/src/app/auth/ChangePwdUser.js\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport Input from \"@material-ui/core/Input\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Box from \"@material-ui/core/Box\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport AuthContainer from \"./AuthContainer\";\nimport ChangePwdOTP from \"./ChangePwdOTP\";\nimport AuthService from \"./AuthService\";\nimport { emailValidate, phoneValidate } from \"../../shared/userIdValidate\";\nimport ParentDetails from \"./ParentDetails\";\nimport Spinner from \"../common/ui/spinner/Spinner\";\nimport phoneSvg from \"../../assets/images/Desktop Phone number.svg\";\nimport { Typography } from \"@material-ui/core\";\nimport BackdropLoader from \"../common/ui/backdropLoader/BackdropLoader\";\nconst useStyle = makeStyles(theme => ({\n  formStyle: {\n    margin: \"auto\",\n    width: \"100%\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    paddingBttom: \"20px\"\n  },\n  boxMargin: {\n    marginTop: \"30px\",\n    \"@media (max-width:400px)\": {\n      marginTop: \"10px\"\n    }\n  },\n  fieldStyle: {\n    width: \"80%\",\n    margin: \"auto\",\n    \"& .MuiInput-underline:before\": {\n      borderBottom: \"2px solid #eaeaea\"\n    },\n    \"& .MuiInput-underline:hover:not(.Mui-disabled):before\": {\n      borderBottom: \"2px solid #7B72AF\",\n      transitionProperty: \"border-bottom-color\",\n      transitionDuration: \"500ms\",\n      transitionTimingFunction: \"cubic-bezier(0.4, 0, 0.2, 1)\"\n    }\n  },\n  errorColor: {\n    color: \"red\"\n  },\n  inputBorder: {\n    height: \"50px\",\n    \"& span\": {\n      paddingLeft: \"10px\"\n    }\n  },\n  margin: {\n    marginTop: \"30px\",\n    \"@media (max-width:400px)\": {\n      marginTop: \"10px\"\n    },\n    \"& .loginBtn\": {\n      borderRadius: \"6px\",\n      marginTop: \"10px\",\n      marginBotton: \"10px\" // opacity: '0.5',\n\n    }\n  }\n}));\n\nconst ChangePwdUser = props => {\n  const classes = useStyle();\n  const [userSubmit, setUserSubmit] = useState(false);\n  const [user, setUser] = useState(\"\");\n  const [isPhone, setIsPhone] = useState(false);\n  const [isChild, setIsChild] = useState(false);\n  const [token, setToken] = useState(\"\");\n  const [errMessage, setError] = useState(\"\");\n  const [parentContacts, setParentContacts] = useState([]);\n  const [selectedParentContact, setSelectedParentContact] = useState(\"\");\n  const [isLoading, setLoading] = useState(false);\n\n  async function getOtpFunction(userData) {\n    try {\n      console.log(\"Send OTP Function for user: \", userData);\n      handleLoading(true);\n      const response = await AuthService.sendOtp({\n        username: userData\n      });\n      console.log(\"OTP is: \", response.data.data.otp);\n      setToken(response.data.data.access_token);\n      handleLoading(false);\n\n      if (response.status === 200) {\n        console.log(\"OTP Sent Successfully\");\n        setUserSubmit(true);\n      }\n    } catch (error) {\n      console.log(error);\n      setError(\"User not found\");\n      handleLoading(false);\n    }\n  } // function getParent() {\n  //   console.log(\"Get Parent for: \", user);\n  //   handleLoading(true);\n  //   AuthService.getParents({ username: user })\n  //     .then((response) => {\n  //       //Check if data is available\n  //       const resultData = response.data.data;\n  //       // console.log(response.data.data, response.data.data[0]);\n  //       if (resultData.length === 0) {\n  //         setError(\"No parent details found.\");\n  //       } else {\n  //         const contacts = [];\n  //         resultData.map((parent) => {\n  //           console.log(\"Parent\", parent.phone);\n  //           if (parent.phone !== null && parent.phone.length) {\n  //             contacts.push(parent.phone);\n  //           }\n  //           if (parent.email !== null && parent.email.length) {\n  //             contacts.push(parent.email);\n  //           }\n  //           return \"\";\n  //         });\n  //         setParentContacts(contacts);\n  //         handleLoading(false);\n  //         if (contacts.length > 1) {\n  //           setIsChild(true);\n  //         } else {\n  //           getOtpFunction(contacts[0]);\n  //         }\n  //       }\n  //     })\n  //     .catch((error) => {\n  //       console.log(error);\n  //       setError(\"User not found\");\n  //       handleLoading(false);\n  //     });\n  // }\n  // const setParentContact = (contactData) => {\n  //   setSelectedParentContact(contactData);\n  //   getOtpFunction(contactData);\n  // };\n\n\n  const handleCloseParentDetails = () => {\n    setIsChild(false);\n  };\n\n  const submitForm = event => {\n    event.preventDefault();\n    getOtpFunction(user); // if (emailValidate(user)) {\n    //   getOtpFunction(user);\n    // } else if (phoneValidate(user)) {\n    //   setUser(user.substr(user.length - 10));\n    //   setIsPhone(true);\n    // } else {\n    //   getParent();\n    // }\n  };\n\n  const handleLoading = load => {\n    setLoading(load);\n  };\n\n  const handleForm = event => {\n    setError(\"\");\n    setUser(event.target.value);\n  };\n\n  useEffect(() => {\n    if (isPhone) {\n      getOtpFunction(user);\n    }\n  }, [isPhone]);\n  const renderOtp = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AuthContainer, {\n    title: \"Forgot Password?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.boxMargin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    className: `${classes.errorColor}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, errMessage), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.formStyle,\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.margin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    className: classes.fieldStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"username\",\n    name: \"username\",\n    className: classes.inputBorder,\n    type: \"text\",\n    onChange: handleForm,\n    placeholder: \"Enter Username\",\n    startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n      position: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: phoneSvg,\n      width: \"40px\",\n      alt: \"Phone SVG\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 23\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    className: classes.margin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"phoneSubmit\",\n    type: \"submit\",\n    variant: \"contained\",\n    className: `${classes.fieldStyle} ${\"loginBtn\"}`,\n    color: \"primary\",\n    disableElevation: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }, \"SUBMIT\"))))));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, userSubmit ? /*#__PURE__*/React.createElement(ChangePwdOTP, {\n    user: user,\n    handleLoading: handleLoading,\n    token: token,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }\n  }) : renderOtp, /*#__PURE__*/React.createElement(BackdropLoader, {\n    open: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ChangePwdUser;","map":{"version":3,"sources":["/Users/star/Desktop/frontend-srm/src/app/auth/ChangePwdUser.js"],"names":["React","useState","useRef","useEffect","Input","InputAdornment","Button","FormControl","Box","makeStyles","AuthContainer","ChangePwdOTP","AuthService","emailValidate","phoneValidate","ParentDetails","Spinner","Typography","BackdropLoader","useStyle","theme","formStyle","margin","width","justifyContent","textAlign","paddingBttom","boxMargin","marginTop","fieldStyle","borderBottom","transitionProperty","transitionDuration","transitionTimingFunction","errorColor","color","inputBorder","height","paddingLeft","borderRadius","marginBotton","ChangePwdUser","props","classes","userSubmit","setUserSubmit","user","setUser","isPhone","setIsPhone","isChild","setIsChild","token","setToken","errMessage","setError","parentContacts","setParentContacts","selectedParentContact","setSelectedParentContact","isLoading","setLoading","getOtpFunction","userData","console","log","handleLoading","response","sendOtp","username","data","otp","access_token","status","error","handleCloseParentDetails","submitForm","event","preventDefault","load","handleForm","target","value","renderOtp","phoneSvg"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\n\nimport Input from \"@material-ui/core/Input\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Box from \"@material-ui/core/Box\";\nimport { makeStyles } from \"@material-ui/styles\";\n\nimport AuthContainer from \"./AuthContainer\";\nimport ChangePwdOTP from \"./ChangePwdOTP\";\nimport AuthService from \"./AuthService\";\nimport { emailValidate, phoneValidate } from \"../../shared/userIdValidate\";\nimport ParentDetails from \"./ParentDetails\";\nimport Spinner from \"../common/ui/spinner/Spinner\";\n\nimport phoneSvg from \"../../assets/images/Desktop Phone number.svg\";\nimport { Typography } from \"@material-ui/core\";\nimport BackdropLoader from \"../common/ui/backdropLoader/BackdropLoader\";\n\nconst useStyle = makeStyles((theme) => ({\n  formStyle: {\n    margin: \"auto\",\n    width: \"100%\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    paddingBttom: \"20px\",\n  },\n  boxMargin: {\n    marginTop: \"30px\",\n    \"@media (max-width:400px)\": {\n      marginTop: \"10px\",\n    },\n  },\n  fieldStyle: {\n    width: \"80%\",\n    margin: \"auto\",\n    \"& .MuiInput-underline:before\": {\n      borderBottom: \"2px solid #eaeaea\",\n    },\n    \"& .MuiInput-underline:hover:not(.Mui-disabled):before\": {\n      borderBottom: \"2px solid #7B72AF\",\n      transitionProperty: \"border-bottom-color\",\n      transitionDuration: \"500ms\",\n      transitionTimingFunction: \"cubic-bezier(0.4, 0, 0.2, 1)\",\n    },\n  },\n\n  errorColor: {\n    color: \"red\",\n  },\n  inputBorder: {\n    height: \"50px\",\n    \"& span\": {\n      paddingLeft: \"10px\",\n    },\n  },\n  margin: {\n    marginTop: \"30px\",\n    \"@media (max-width:400px)\": {\n      marginTop: \"10px\",\n    },\n\n    \"& .loginBtn\": {\n      borderRadius: \"6px\",\n      marginTop: \"10px\",\n      marginBotton: \"10px\",\n      // opacity: '0.5',\n    },\n  },\n}));\n\nconst ChangePwdUser = (props) => {\n  const classes = useStyle();\n  const [userSubmit, setUserSubmit] = useState(false);\n  const [user, setUser] = useState(\"\");\n  const [isPhone, setIsPhone] = useState(false);\n  const [isChild, setIsChild] = useState(false);\n  const [token, setToken] = useState(\"\");\n  const [errMessage, setError] = useState(\"\");\n  const [parentContacts, setParentContacts] = useState([]);\n  const [selectedParentContact, setSelectedParentContact] = useState(\"\");\n  const [isLoading, setLoading] = useState(false);\n\n  async function getOtpFunction(userData) {\n    try {\n      console.log(\"Send OTP Function for user: \", userData);\n      handleLoading(true);\n      const response = await AuthService.sendOtp({ username: userData });\n      console.log(\"OTP is: \", response.data.data.otp);\n      setToken(response.data.data.access_token);\n      handleLoading(false);\n\n      if (response.status === 200) {\n        console.log(\"OTP Sent Successfully\");\n        setUserSubmit(true);\n      }\n    } catch (error) {\n      console.log(error);\n      setError(\"User not found\");\n      handleLoading(false);\n    }\n  }\n\n  // function getParent() {\n  //   console.log(\"Get Parent for: \", user);\n  //   handleLoading(true);\n  //   AuthService.getParents({ username: user })\n  //     .then((response) => {\n  //       //Check if data is available\n  //       const resultData = response.data.data;\n  //       // console.log(response.data.data, response.data.data[0]);\n  //       if (resultData.length === 0) {\n  //         setError(\"No parent details found.\");\n  //       } else {\n  //         const contacts = [];\n  //         resultData.map((parent) => {\n  //           console.log(\"Parent\", parent.phone);\n  //           if (parent.phone !== null && parent.phone.length) {\n  //             contacts.push(parent.phone);\n  //           }\n  //           if (parent.email !== null && parent.email.length) {\n  //             contacts.push(parent.email);\n  //           }\n\n  //           return \"\";\n  //         });\n  //         setParentContacts(contacts);\n  //         handleLoading(false);\n  //         if (contacts.length > 1) {\n  //           setIsChild(true);\n  //         } else {\n  //           getOtpFunction(contacts[0]);\n  //         }\n  //       }\n  //     })\n  //     .catch((error) => {\n  //       console.log(error);\n  //       setError(\"User not found\");\n  //       handleLoading(false);\n  //     });\n  // }\n\n  // const setParentContact = (contactData) => {\n  //   setSelectedParentContact(contactData);\n  //   getOtpFunction(contactData);\n  // };\n\n  const handleCloseParentDetails = () => {\n    setIsChild(false);\n  };\n\n  const submitForm = (event) => {\n    event.preventDefault();\n    getOtpFunction(user);\n    // if (emailValidate(user)) {\n    //   getOtpFunction(user);\n    // } else if (phoneValidate(user)) {\n    //   setUser(user.substr(user.length - 10));\n    //   setIsPhone(true);\n    // } else {\n    //   getParent();\n    // }\n  };\n\n  const handleLoading = (load) => {\n    setLoading(load);\n  };\n\n  const handleForm = (event) => {\n    setError(\"\");\n    setUser(event.target.value);\n  };\n  useEffect(() => {\n    if (isPhone) {\n      getOtpFunction(user);\n    }\n  }, [isPhone]);\n\n  const renderOtp = (\n    <>\n      <AuthContainer title=\"Forgot Password?\">\n        <div>\n          <Box className={classes.boxMargin}></Box>\n          <Typography className={`${classes.errorColor}`}>\n            {errMessage}\n          </Typography>\n          <form className={classes.formStyle} onSubmit={submitForm}>\n            <Box className={classes.margin}>\n              <FormControl className={classes.fieldStyle}>\n                <Input\n                  id=\"username\"\n                  name=\"username\"\n                  className={classes.inputBorder}\n                  type=\"text\"\n                  onChange={handleForm}\n                  placeholder=\"Enter Username\"\n                  startAdornment={\n                    <InputAdornment position=\"start\">\n                      <img src={phoneSvg} width=\"40px\" alt=\"Phone SVG\" />\n                    </InputAdornment>\n                  }\n                />\n              </FormControl>\n            </Box>\n\n            <Box className={classes.margin}>\n              <Button\n                id=\"phoneSubmit\"\n                type=\"submit\"\n                variant=\"contained\"\n                className={`${classes.fieldStyle} ${\"loginBtn\"}`}\n                color=\"primary\"\n                disableElevation\n              >\n                SUBMIT\n              </Button>\n            </Box>\n          </form>\n        </div>\n      </AuthContainer>\n    </>\n  );\n\n  return (\n    <>\n      {userSubmit ? (\n        <ChangePwdOTP user={user} handleLoading={handleLoading} token={token} />\n      ) : (\n        renderOtp\n      )}\n      <BackdropLoader open={isLoading} />\n    </>\n  );\n};\n\nexport default ChangePwdUser;\n"]},"metadata":{},"sourceType":"module"}